# config-manager-gui 图形界面使用指南

## 🎯 功能

`config-manager-gui` 是一个图形界面工具，用于直观地管理 Supabase 中的配置。

## 🚀 快速开始

### 启动图形界面

```powershell
config-manager-gui
```

或者双击 `config-manager-gui.bat` 文件。

## 📋 界面说明

### 主界面布局

```
┌─────────────────────────────────────────────────────────┐
│  🔄 刷新  ➕ 添加配置组  |  ➕ 添加配置项  ✏️ 编辑  🗑️ 删除 │
├──────────────┬──────────────────────────────────────────┤
│  配置组列表   │           配置项列表                      │
│              │                                          │
│ ✅ supabase  │  ┌──────┬─────────┬──────┬──────┬──────┐│
│ ✅ gemini_api│  │ 键名  │   值    │ 类型 │ 敏感 │ 描述 ││
│ ✅ redis     │  ├──────┼─────────┼──────┼──────┼──────┤│
│ ✅ worker    │  │API_KEY│***HIDDEN│string│  🔒  │ API  ││
│              │  │API_URL│https:// │string│      │ 地址 ││
│              │  └──────┴─────────┴──────┴──────┴──────┘│
└──────────────┴──────────────────────────────────────────┘
```

### 左侧：配置组列表

- 显示所有配置组
- ✅ 表示激活的配置组
- ❌ 表示未激活的配置组
- 点击配置组名称查看该组的配置项

### 右侧：配置项列表

- 显示选中配置组的所有配置项
- 表格列：
  - **键名**: 配置项的键
  - **值**: 配置项的值（敏感信息显示为 `***HIDDEN***`）
  - **类型**: 值类型（string/number/boolean/json/array）
  - **敏感**: 🔒 表示敏感信息
  - **描述**: 配置项的描述

## 🖱️ 操作指南

### 1. 查看配置

1. 在左侧配置组列表中点击一个配置组
2. 右侧会显示该组的所有配置项

### 2. 添加配置组

1. 点击顶部工具栏的 **➕ 添加配置组** 按钮
2. 在弹出的对话框中填写：
   - **配置组名称**（必填）
   - **分类**（可选）
   - **描述**（可选）
3. 点击 **保存** 按钮

### 3. 添加配置项

1. 先在左侧选择一个配置组
2. 点击顶部工具栏的 **➕ 添加配置项** 按钮
3. 在弹出的对话框中填写：
   - **键名**（必填）
   - **值**（必填，支持多行文本）
   - **类型**（下拉选择：string/number/boolean/json/array）
   - **描述**（可选）
   - **敏感信息**（勾选表示这是敏感信息）
   - **排序**（数字，控制显示顺序）
4. 点击 **保存** 按钮

### 4. 编辑配置项

**方法一：**
1. 在右侧表格中双击要编辑的配置项

**方法二：**
1. 在右侧表格中点击选中要编辑的配置项
2. 点击顶部工具栏的 **✏️ 编辑配置项** 按钮

3. 在弹出的对话框中修改：
   - **值**（可以修改）
   - **类型**（可以修改）
   - **描述**（可以修改）
   - **敏感信息**（可以勾选/取消）
   - **排序**（可以修改）
   - **键名**（只读，不可修改）

4. 点击 **保存** 按钮

**注意**: 如果配置项是敏感信息，编辑时如果值显示为 `***HIDDEN***`，需要手动输入新值。

### 5. 删除配置项

1. 在右侧表格中点击选中要删除的配置项
2. 点击顶部工具栏的 **🗑️ 删除配置项** 按钮
3. 在确认对话框中点击 **是** 确认删除

### 6. 刷新数据

点击顶部工具栏的 **🔄 刷新** 按钮，重新加载所有配置组和配置项。

## 💡 使用技巧

### 技巧 1: 快速查看配置

- 点击左侧配置组名称，立即查看该组的所有配置项
- 使用滚动条查看长列表

### 技巧 2: 批量操作

- 添加多个配置项时，可以连续点击 **➕ 添加配置项** 按钮
- 每次添加后会自动刷新列表

### 技巧 3: 敏感信息管理

- 添加敏感信息时勾选 **敏感信息** 复选框
- 敏感信息在列表中显示为 `***HIDDEN***`
- 编辑敏感信息时需要手动输入新值

### 技巧 4: 排序管理

- 使用 **排序** 字段控制配置项的显示顺序
- 数字越小越靠前
- 相同排序值时按键名排序

## 🎨 界面特点

- ✅ **直观**: 左右分栏，配置组和配置项一目了然
- ✅ **易用**: 点击操作，无需记忆命令
- ✅ **安全**: 敏感信息自动隐藏
- ✅ **高效**: 双击快速编辑，一键刷新

## 🔍 常见问题

### 问题：界面无法启动

**原因**: 可能缺少 tkinter 库

**解决**: tkinter 是 Python 自带的，如果缺少，可能需要重新安装 Python 并勾选 tkinter 选项。

### 问题：无法连接数据库

**错误**: "创建 Supabase 客户端失败"

**解决**: 
- 检查网络连接
- 确认 Supabase URL 和 Key 是否正确（已硬编码在脚本中）

### 问题：编辑敏感信息时值显示为 ***HIDDEN***

**解决**: 这是正常现象，需要手动输入新值来替换隐藏的值。

### 问题：添加配置项时提示配置组不存在

**解决**: 先添加配置组，然后再添加配置项。

## 📚 相关命令

- `config-manager-gui` - 图形界面管理配置（推荐）
- `config-manager` - 命令行管理配置
- `cloud-config` - 导出配置为 JSON
- `project-config` - 保存项目信息

## 🎯 推荐工作流程

1. **启动图形界面**
   ```powershell
   config-manager-gui
   ```

2. **添加配置组**（如果需要）
   - 点击 **➕ 添加配置组**
   - 填写信息并保存

3. **添加配置项**
   - 选择配置组
   - 点击 **➕ 添加配置项**
   - 填写信息并保存

4. **编辑配置**（如果需要）
   - 双击配置项
   - 修改信息并保存

5. **导出配置**（使用命令行）
   ```powershell
   cloud-config --group 配置组名称
   ```


